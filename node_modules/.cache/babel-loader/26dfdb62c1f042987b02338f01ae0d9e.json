{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { L as handleInputChange, a as _objectSpread2 } from './index-c7a4d7ce.esm.js';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport { useRef, useState, useEffect, useCallback } from 'react';\nvar _excluded = [\"defaultOptions\", \"cacheOptions\", \"loadOptions\", \"options\", \"isLoading\", \"onInputChange\", \"filterOption\"];\n\nfunction useAsync(_ref) {\n  var _ref$defaultOptions = _ref.defaultOptions,\n      propsDefaultOptions = _ref$defaultOptions === void 0 ? false : _ref$defaultOptions,\n      _ref$cacheOptions = _ref.cacheOptions,\n      cacheOptions = _ref$cacheOptions === void 0 ? false : _ref$cacheOptions,\n      propsLoadOptions = _ref.loadOptions;\n  _ref.options;\n\n  var _ref$isLoading = _ref.isLoading,\n      propsIsLoading = _ref$isLoading === void 0 ? false : _ref$isLoading,\n      propsOnInputChange = _ref.onInputChange,\n      _ref$filterOption = _ref.filterOption,\n      filterOption = _ref$filterOption === void 0 ? null : _ref$filterOption,\n      restSelectProps = _objectWithoutProperties(_ref, _excluded);\n\n  var propsInputValue = restSelectProps.inputValue;\n  var lastRequest = useRef(undefined);\n  var mounted = useRef(false);\n\n  var _useState = useState(Array.isArray(propsDefaultOptions) ? propsDefaultOptions : undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      defaultOptions = _useState2[0],\n      setDefaultOptions = _useState2[1];\n\n  var _useState3 = useState(typeof propsInputValue !== 'undefined' ? propsInputValue : ''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      stateInputValue = _useState4[0],\n      setStateInputValue = _useState4[1];\n\n  var _useState5 = useState(propsDefaultOptions === true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n\n  var _useState7 = useState(undefined),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loadedInputValue = _useState8[0],\n      setLoadedInputValue = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      loadedOptions = _useState10[0],\n      setLoadedOptions = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      passEmptyOptions = _useState12[0],\n      setPassEmptyOptions = _useState12[1];\n\n  var _useState13 = useState({}),\n      _useState14 = _slicedToArray(_useState13, 2),\n      optionsCache = _useState14[0],\n      setOptionsCache = _useState14[1];\n\n  var _useState15 = useState(undefined),\n      _useState16 = _slicedToArray(_useState15, 2),\n      prevDefaultOptions = _useState16[0],\n      setPrevDefaultOptions = _useState16[1];\n\n  var _useState17 = useState(undefined),\n      _useState18 = _slicedToArray(_useState17, 2),\n      prevCacheOptions = _useState18[0],\n      setPrevCacheOptions = _useState18[1];\n\n  if (cacheOptions !== prevCacheOptions) {\n    setOptionsCache({});\n    setPrevCacheOptions(cacheOptions);\n  }\n\n  if (propsDefaultOptions !== prevDefaultOptions) {\n    setDefaultOptions(Array.isArray(propsDefaultOptions) ? propsDefaultOptions : undefined);\n    setPrevDefaultOptions(propsDefaultOptions);\n  }\n\n  useEffect(function () {\n    mounted.current = true;\n    return function () {\n      mounted.current = false;\n    };\n  }, []);\n  var loadOptions = useCallback(function (inputValue, callback) {\n    if (!propsLoadOptions) return callback();\n    var loader = propsLoadOptions(inputValue, callback);\n\n    if (loader && typeof loader.then === 'function') {\n      loader.then(callback, function () {\n        return callback();\n      });\n    }\n  }, [propsLoadOptions]);\n  useEffect(function () {\n    if (propsDefaultOptions === true) {\n      loadOptions(stateInputValue, function (options) {\n        if (!mounted.current) return;\n        setDefaultOptions(options || []);\n        setIsLoading(!!lastRequest.current);\n      });\n    } // NOTE: this effect is designed to only run when the component mounts,\n    // so we don't want to include any hook dependencies\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  var onInputChange = useCallback(function (newValue, actionMeta) {\n    var inputValue = handleInputChange(newValue, actionMeta, propsOnInputChange);\n\n    if (!inputValue) {\n      lastRequest.current = undefined;\n      setStateInputValue('');\n      setLoadedInputValue('');\n      setLoadedOptions([]);\n      setIsLoading(false);\n      setPassEmptyOptions(false);\n      return;\n    }\n\n    if (cacheOptions && optionsCache[inputValue]) {\n      setStateInputValue(inputValue);\n      setLoadedInputValue(inputValue);\n      setLoadedOptions(optionsCache[inputValue]);\n      setIsLoading(false);\n      setPassEmptyOptions(false);\n    } else {\n      var request = lastRequest.current = {};\n      setStateInputValue(inputValue);\n      setIsLoading(true);\n      setPassEmptyOptions(!loadedInputValue);\n      loadOptions(inputValue, function (options) {\n        if (!mounted) return;\n        if (request !== lastRequest.current) return;\n        lastRequest.current = undefined;\n        setIsLoading(false);\n        setLoadedInputValue(inputValue);\n        setLoadedOptions(options || []);\n        setPassEmptyOptions(false);\n        setOptionsCache(options ? _objectSpread2(_objectSpread2({}, optionsCache), {}, _defineProperty({}, inputValue, options)) : optionsCache);\n      });\n    }\n  }, [cacheOptions, loadOptions, loadedInputValue, optionsCache, propsOnInputChange]);\n  var options = passEmptyOptions ? [] : stateInputValue && loadedInputValue ? loadedOptions : defaultOptions || [];\n  return _objectSpread2(_objectSpread2({}, restSelectProps), {}, {\n    options: options,\n    isLoading: isLoading || propsIsLoading,\n    onInputChange: onInputChange,\n    filterOption: filterOption\n  });\n}\n\nexport { useAsync as u };","map":{"version":3,"sources":["/home/yamid/Documentos/ReactJS/puntogov/node_modules/react-select/dist/useAsync-6eaa3052.esm.js"],"names":["_defineProperty","L","handleInputChange","a","_objectSpread2","_slicedToArray","_objectWithoutProperties","useRef","useState","useEffect","useCallback","_excluded","useAsync","_ref","_ref$defaultOptions","defaultOptions","propsDefaultOptions","_ref$cacheOptions","cacheOptions","propsLoadOptions","loadOptions","options","_ref$isLoading","isLoading","propsIsLoading","propsOnInputChange","onInputChange","_ref$filterOption","filterOption","restSelectProps","propsInputValue","inputValue","lastRequest","undefined","mounted","_useState","Array","isArray","_useState2","setDefaultOptions","_useState3","_useState4","stateInputValue","setStateInputValue","_useState5","_useState6","setIsLoading","_useState7","_useState8","loadedInputValue","setLoadedInputValue","_useState9","_useState10","loadedOptions","setLoadedOptions","_useState11","_useState12","passEmptyOptions","setPassEmptyOptions","_useState13","_useState14","optionsCache","setOptionsCache","_useState15","_useState16","prevDefaultOptions","setPrevDefaultOptions","_useState17","_useState18","prevCacheOptions","setPrevCacheOptions","current","callback","loader","then","newValue","actionMeta","request","u"],"mappings":"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","sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { L as handleInputChange, a as _objectSpread2 } from './index-c7a4d7ce.esm.js';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport { useRef, useState, useEffect, useCallback } from 'react';\n\nvar _excluded = [\"defaultOptions\", \"cacheOptions\", \"loadOptions\", \"options\", \"isLoading\", \"onInputChange\", \"filterOption\"];\nfunction useAsync(_ref) {\n  var _ref$defaultOptions = _ref.defaultOptions,\n      propsDefaultOptions = _ref$defaultOptions === void 0 ? false : _ref$defaultOptions,\n      _ref$cacheOptions = _ref.cacheOptions,\n      cacheOptions = _ref$cacheOptions === void 0 ? false : _ref$cacheOptions,\n      propsLoadOptions = _ref.loadOptions;\n      _ref.options;\n      var _ref$isLoading = _ref.isLoading,\n      propsIsLoading = _ref$isLoading === void 0 ? false : _ref$isLoading,\n      propsOnInputChange = _ref.onInputChange,\n      _ref$filterOption = _ref.filterOption,\n      filterOption = _ref$filterOption === void 0 ? null : _ref$filterOption,\n      restSelectProps = _objectWithoutProperties(_ref, _excluded);\n\n  var propsInputValue = restSelectProps.inputValue;\n  var lastRequest = useRef(undefined);\n  var mounted = useRef(false);\n\n  var _useState = useState(Array.isArray(propsDefaultOptions) ? propsDefaultOptions : undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      defaultOptions = _useState2[0],\n      setDefaultOptions = _useState2[1];\n\n  var _useState3 = useState(typeof propsInputValue !== 'undefined' ? propsInputValue : ''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      stateInputValue = _useState4[0],\n      setStateInputValue = _useState4[1];\n\n  var _useState5 = useState(propsDefaultOptions === true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setIsLoading = _useState6[1];\n\n  var _useState7 = useState(undefined),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loadedInputValue = _useState8[0],\n      setLoadedInputValue = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      loadedOptions = _useState10[0],\n      setLoadedOptions = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      passEmptyOptions = _useState12[0],\n      setPassEmptyOptions = _useState12[1];\n\n  var _useState13 = useState({}),\n      _useState14 = _slicedToArray(_useState13, 2),\n      optionsCache = _useState14[0],\n      setOptionsCache = _useState14[1];\n\n  var _useState15 = useState(undefined),\n      _useState16 = _slicedToArray(_useState15, 2),\n      prevDefaultOptions = _useState16[0],\n      setPrevDefaultOptions = _useState16[1];\n\n  var _useState17 = useState(undefined),\n      _useState18 = _slicedToArray(_useState17, 2),\n      prevCacheOptions = _useState18[0],\n      setPrevCacheOptions = _useState18[1];\n\n  if (cacheOptions !== prevCacheOptions) {\n    setOptionsCache({});\n    setPrevCacheOptions(cacheOptions);\n  }\n\n  if (propsDefaultOptions !== prevDefaultOptions) {\n    setDefaultOptions(Array.isArray(propsDefaultOptions) ? propsDefaultOptions : undefined);\n    setPrevDefaultOptions(propsDefaultOptions);\n  }\n\n  useEffect(function () {\n    mounted.current = true;\n    return function () {\n      mounted.current = false;\n    };\n  }, []);\n  var loadOptions = useCallback(function (inputValue, callback) {\n    if (!propsLoadOptions) return callback();\n    var loader = propsLoadOptions(inputValue, callback);\n\n    if (loader && typeof loader.then === 'function') {\n      loader.then(callback, function () {\n        return callback();\n      });\n    }\n  }, [propsLoadOptions]);\n  useEffect(function () {\n    if (propsDefaultOptions === true) {\n      loadOptions(stateInputValue, function (options) {\n        if (!mounted.current) return;\n        setDefaultOptions(options || []);\n        setIsLoading(!!lastRequest.current);\n      });\n    } // NOTE: this effect is designed to only run when the component mounts,\n    // so we don't want to include any hook dependencies\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  var onInputChange = useCallback(function (newValue, actionMeta) {\n    var inputValue = handleInputChange(newValue, actionMeta, propsOnInputChange);\n\n    if (!inputValue) {\n      lastRequest.current = undefined;\n      setStateInputValue('');\n      setLoadedInputValue('');\n      setLoadedOptions([]);\n      setIsLoading(false);\n      setPassEmptyOptions(false);\n      return;\n    }\n\n    if (cacheOptions && optionsCache[inputValue]) {\n      setStateInputValue(inputValue);\n      setLoadedInputValue(inputValue);\n      setLoadedOptions(optionsCache[inputValue]);\n      setIsLoading(false);\n      setPassEmptyOptions(false);\n    } else {\n      var request = lastRequest.current = {};\n      setStateInputValue(inputValue);\n      setIsLoading(true);\n      setPassEmptyOptions(!loadedInputValue);\n      loadOptions(inputValue, function (options) {\n        if (!mounted) return;\n        if (request !== lastRequest.current) return;\n        lastRequest.current = undefined;\n        setIsLoading(false);\n        setLoadedInputValue(inputValue);\n        setLoadedOptions(options || []);\n        setPassEmptyOptions(false);\n        setOptionsCache(options ? _objectSpread2(_objectSpread2({}, optionsCache), {}, _defineProperty({}, inputValue, options)) : optionsCache);\n      });\n    }\n  }, [cacheOptions, loadOptions, loadedInputValue, optionsCache, propsOnInputChange]);\n  var options = passEmptyOptions ? [] : stateInputValue && loadedInputValue ? loadedOptions : defaultOptions || [];\n  return _objectSpread2(_objectSpread2({}, restSelectProps), {}, {\n    options: options,\n    isLoading: isLoading || propsIsLoading,\n    onInputChange: onInputChange,\n    filterOption: filterOption\n  });\n}\n\nexport { useAsync as u };\n"]},"metadata":{},"sourceType":"module"}