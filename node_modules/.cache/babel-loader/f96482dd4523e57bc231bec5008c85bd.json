{"ast":null,"code":"import _defineProperty from\"/home/yamid/Documentos/ReactJS/puntogov/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/yamid/Documentos/ReactJS/puntogov/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/yamid/Documentos/ReactJS/puntogov/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import helpHttp from'../components/helpers/helpHttp';export var useForm=function useForm(initialForm,validateForm){var _useState=useState(initialForm),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoaging=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),response=_useState8[0],setResponse=_useState8[1];//Asignate values a campos form\nvar handleChange=function handleChange(e){//Destructuramos\nvar _e$target=e.target,name=_e$target.name,value=_e$target.value;setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},name,value)));};var handleBlur=function handleBlur(e){handleChange(e);setErrors(validateForm(form));};var handleSubmit=function handleSubmit(e){e.preventDefault();setErrors(validateForm(form));if(Object.keys(errors).length===0){alert(\"Enviando formulario\");setLoaging(true);helpHttp().post(\"htpps://formsubmit.co/ajax/yaormu@gmail.com\",{body:form,headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"}}).then(function(res){setLoaging(false);setResponse(true);setForm(initialForm);setTimeout(function(){return setResponse(false);},2000);});}else{return;}};return{form:form,errors:errors,loading:loading,response:response,handleChange:handleChange,handleBlur:handleBlur,handleSubmit:handleSubmit};};","map":{"version":3,"sources":["/home/yamid/Documentos/ReactJS/puntogov/src/hooks/useForm.js"],"names":["useState","helpHttp","useForm","initialForm","validateForm","form","setForm","errors","setErrors","loading","setLoaging","response","setResponse","handleChange","e","target","name","value","handleBlur","handleSubmit","preventDefault","Object","keys","length","alert","post","body","headers","Accept","then","res","setTimeout"],"mappings":"2dAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,gCAArB,CAEA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,WAAD,CAAcC,YAAd,CAA+B,CACpD,cAAwBJ,QAAQ,CAACG,WAAD,CAAhC,wCAAOE,IAAP,eAAaC,OAAb,eACA,eAA4BN,QAAQ,CAAC,EAAD,CAApC,yCAAOO,MAAP,eAAeC,SAAf,eACA,eAA8BR,QAAQ,CAAC,KAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eACA,eAAgCV,QAAQ,CAAC,IAAD,CAAxC,yCAAOW,QAAP,eAAiBC,WAAjB,eAEA;AACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1B;AACA,cAAqBA,CAAC,CAACC,MAAvB,CAAMC,IAAN,WAAMA,IAAN,CAAYC,KAAZ,WAAYA,KAAZ,CAEAX,OAAO,gCACFD,IADE,wBAEJW,IAFI,CAEEC,KAFF,GAAP,CAID,CARD,CAUA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACJ,CAAD,CAAO,CACxBD,YAAY,CAACC,CAAD,CAAZ,CACAN,SAAS,CAACJ,YAAY,CAACC,IAAD,CAAb,CAAT,CACD,CAHD,CAKA,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACL,CAAD,CAAO,CAC1BA,CAAC,CAACM,cAAF,GACAZ,SAAS,CAACJ,YAAY,CAACC,IAAD,CAAb,CAAT,CAEA,GAAGgB,MAAM,CAACC,IAAP,CAAYf,MAAZ,EAAoBgB,MAApB,GAA+B,CAAlC,CAAqC,CACnCC,KAAK,CAAC,qBAAD,CAAL,CACAd,UAAU,CAAC,IAAD,CAAV,CACAT,QAAQ,GACLwB,IADH,CACQ,6CADR,CACuD,CACnDC,IAAI,CAAErB,IAD6C,CAEnDsB,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,MAAM,CAAE,kBAFD,CAF0C,CADvD,EAQGC,IARH,CAQQ,SAACC,GAAD,CAAS,CACbpB,UAAU,CAAC,KAAD,CAAV,CACAE,WAAW,CAAC,IAAD,CAAX,CACAN,OAAO,CAACH,WAAD,CAAP,CACA4B,UAAU,CAAC,iBAAMnB,CAAAA,WAAW,CAAC,KAAD,CAAjB,EAAD,CAA2B,IAA3B,CAAV,CACD,CAbH,EAcD,CAjBD,IAiBO,CACL,OACD,CACF,CAxBD,CA2BA,MAAO,CACHP,IAAI,CAAJA,IADG,CAEHE,MAAM,CAANA,MAFG,CAGHE,OAAO,CAAPA,OAHG,CAIHE,QAAQ,CAARA,QAJG,CAKHE,YAAY,CAAZA,YALG,CAMHK,UAAU,CAAVA,UANG,CAOHC,YAAY,CAAZA,YAPG,CAAP,CASD,CA1DM","sourcesContent":["import { useState } from 'react';\nimport helpHttp from '../components/helpers/helpHttp'\n\nexport const useForm = (initialForm, validateForm) => {\n  const [form, setForm] = useState(initialForm);\n  const [errors, setErrors] = useState({});\n  const [loading, setLoaging] = useState(false);\n  const [response, setResponse] = useState(null);\n\n  //Asignate values a campos form\n  const handleChange = (e) => {\n    //Destructuramos\n    const{name, value} = e.target;\n\n    setForm({\n      ...form,\n      [name]:value\n    })\n  }\n\n  const handleBlur = (e) => {\n    handleChange(e);\n    setErrors(validateForm(form));\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErrors(validateForm(form));\n\n    if(Object.keys(errors).length === 0) {\n      alert(\"Enviando formulario\")\n      setLoaging(true)\n      helpHttp()\n        .post(\"htpps://formsubmit.co/ajax/yaormu@gmail.com\", {\n          body: form,\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/json\",\n          }\n        })\n        .then((res) => {\n          setLoaging(false)\n          setResponse(true)\n          setForm(initialForm)\n          setTimeout(() => setResponse(false), 2000)\n        })\n    } else {\n      return\n    }\n  }\n\n\n  return {\n      form, \n      errors, \n      loading, \n      response, \n      handleChange, \n      handleBlur, \n      handleSubmit\n  }\n};\n"]},"metadata":{},"sourceType":"module"}